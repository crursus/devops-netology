## Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

1. При полной (аппаратной) виртуализации для взаимодействия гостевых ОС и аппаратного обеспечения используется гипервизор. При виртуализации на основе ОС отсутствует слой гипервизора (ОС напрямую взаимодействует с ресурсами). При паравиртуализации используются модифицированные (совместимые) гостевые ОС и часть запросов к аппаратному обеспечению может миновать гипервизор (для ускорения).
---
2. Выбрал следующие зависимости (целевое использование - тип организации)

    | Целевое использование | Тип организации серверов | Объяснение |
    |:------------------------------:|:---:|:---:|
    | Высоконагруженная база данных, чувствительная к отказу     |              Физические сервера              | Прямое взаимодействие с аппаратными ресурсами, не требуется гибкость, необходимо постоянство |
    | Различные web-приложения                                     | Паравиртуализзацаия, виртуализация уровня ОС | Java Runtime Environment в принципе и есть минимальная реализация ВМ, использование контейнеров, разделение сред исполнения |
    | Windows системы для использования Бухгалтерским отделом    | Физические сервера, виртуализация уровня ОС  | Работа например через Terminal services c ВМ, безопасность, изоляция ОС). Возможно и паравиртуализации, но мне кажется не так безопасно |
    | Системы, выполняющие высокопроизводительные расчеты на GPU |              Физические сервера              | Ликвидация промежуточных слоёв при вычислениях, максимальное использование ресурсов, возможно проблемы совместимости при реализации внутри контейнеров и ВМ |
---
3. Выбрал следующие системы управления виртуализацией (далее, СУВ) для предложенных сценариев:
    
    | Cценарий |            СУВ (в порядке убывания приоритета)             | Описание |
    |:----------------------------------------------------------:|:---:|:---:|
    | 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований | OpenStack, AWS EC2, Microsoft Azure Cloude, VMware vSphere | Промышленный масштаб развёртывания, необходимо упрощение взаимодействия и централизации управления|
    | Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий |                Hyper-V, VMware vSphere, KVM                | Заточенность Microsoft под свои внутренние продукты |
    | Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин |          KVM, Proxmox ,VMware vSphere Hypervisor           | Бесплатно, обеспечивают производительность при небольшом количестве ВМ |
    | Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры |                   VMware ESXi, XEN, KVM                    | Бесплатно, аппаратная виртуализация |
    | Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux |           Docker, VirtualBox, Vagrant, KVM, XEN            | Использование шаблонизации развёртывания, использование контейнеров, возможности автоматизации |

    В целом конечно всё сводится к [тройственной ограниченности](https://ru.wikipedia.org/wiki/Тройственная_ограниченность "Тройственная ограниченность") при проектировании. Нужно быстро развернуть и много ВМ, выбираем облако (Hetzner, AWS, OpenStack). Есть средства и нужна производительная инфраструктура VMware vSphere. Нет денег, есть много времени выбираем opensource (Proxmox VE).

---
4. Основная проблема сводится к неоднородности информационной системы. Если использовать несколько СУВ одновременно возникает необходимость работы со стеком технологий разных производителей. Нет возможности свести всё в единую систему управления. 
   Можно выделить два основных недостатка:
   * Увеличиваются затраты на человеческий ресурс: нужно больше людей обученных работе с конкретной системой или возрастают требования к квалификации персонала (объём необходимых знаний возрастает по количеству используемых СУВ, с учётом знаний их взаимодействия);
   * Возникают избыточные (по сравнению с единственной СУВ) затраты на машинные ресурсы: необходимо устанавливать на разные платформы, имеющие разную совместимость с конкретным аппаратным обеспечением.
    
    В итоге **использование гетерогенных сред виртуализации** в рамках малой (возможно средней, смотрим тройственную ограниченность) компаний экономически **нецелесообразно**. В крупных компаниях думаю возможно применение, при определённых ситуациях (ограничениях), но конечно желательно сводить всё к единому стандарту (единой СУВ). Также возможны ситуации при которых использование полностью оправдано, например: тестирование ПО, разработки специализированных программно-аппаратных комплексов, диверсификации рисков санкций или ограничений по поддержке (покупке) конкретной СУВ. 
