# Домашнее задание к занятию "5.2. Системы управления виртуализацией"

1. Выбрал следующие системы управления виртуализацией (далее, СУВ) для предложенных сценариев:
    
    | Cценарий | СУВ (в порядке убывания приоритета) | Описание |
    |:---:|:---:|:---:|
    | 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований | OpenStack, AWS EC2, Microsoft Azure Cloude, VMware vSphere | Промышленный масштаб развёртывания, необходимо упрощение взаимодействия и централизации управления|
    | Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий | Hyper-V, VMware vSphere, KVM | Заточенность Microsoft под свои внутренние продукты |
    | Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин | KVM, VMware vSphere Hypervisor | Бесплатно, обеспечивают производительность при небольшом количестве ВМ |
    | Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры | VMware ESXi, XEN, KVM | Бесплатно, аппаратная виртуализация |
    | Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux | Docker, VirtualBox, Vagrant, KVM, XEN | Использование шаблонизации развёртывания, использование контейнеров, возможности автоматизации |

    В целом конечно всё сводится к [тройственной ограниченности](https://ru.wikipedia.org/wiki/Тройственная_ограниченность "Тройственная ограниченность") при проектировании. Нужно быстро развернуть и много ВМ, выбираем облако (Hetzner, AWS, OpenStack). Есть средства и нужны производительная инфраструктура VMware vSphere. Нет денег, есть много времени выбираем opensource (Proxmox VE).


2. Шаги миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин следующие:
    
    1. Подготавливаем площадку для промежуточного хранения (NAS, SMB шара);
    2. Подготавливаем виртуальную машину на исходной системе (VMware): чистим ОС от программ и драйверов VMware (VMware tools и т. п.), подготавливаем накопитель ВМ;
    3. Конвертируем (переносим, копируем) образы c помощью конвертера vmdk в vhdx (например: StarWind V2V) или если поддерживает аппаратное обеспечение хранилища автоматически (например: NetApp Shift);
    4. Создаём новую виртуальную машину на целевой системе (Hyper-V) подключаем к ней диск;
    5. Отладка непредвиденных ситуаций.


3. Основная проблема сводится к неоднородности информационной системы. Если использовать несколько СУВ одновременно возникает необходимость работы со стеком технологий разных производителей. Нет возможности свести всё в единую систему управления. 
   Можно выделить два основных недостатка:
   * Увеличиваются затраты на человеческий ресурс: нужно больше людей обученных работе с конкретной системой или возрастают требования к квалификации персонала (объём необходимых знаний возрастает по количеству используемых СУВ, с учётом знаний их взаимодействия);
   * Возникают избыточные (по сравнению с единственной СУВ) затраты на машинные ресурсы: необходимо устанавливать на разные платформы, имеющие разную совместимость с конкретным аппаратным обеспечением.
    
    В итоге использование гетерогенных сред виртуализации в рамках малой (возможно средней, смотрим тройственную ограниченность) компаний экономически не целесообразно. В крупных компаниях думаю возможно применение, при определённых ситуациях, но конечно желательно сводить всё к единому стандарту (единой СУВ). Также возможны ситуации при которых использование возможно и оправдано, например: тестирование ПО, разработки специализированных программно-аппаратных комплексов, диверсификации рисков санкций или ограничений по поддержке (покупке) конкретной СУВ (столкнулся сам непосредственно в нашей организации). 
