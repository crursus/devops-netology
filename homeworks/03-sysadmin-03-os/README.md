# Домашнее задание к занятию "3.3. Операционные системы, лекция 1"

1. Системный вызов который делает команда `cd` следующий:
   
   `chdir("/tmp")`
1. Использовал команду `file` на объекты разных типов на файловой системе.
   
   Используя `strace` выяснил, база данных ("magic patterns") `file` находится по пути:
   ``/usr/share/misc/magic.mgc``
1. Обнулить открытый удалённый файл (чтобы освободить место на файловой системе), может быть несколько:
   
   * `> file.log`
   * `cat /dev/null >| file.log`
1. Зомби-процесс (defunct process), как следует из определения, завершил своё выполнение, поэтому ресурсы в ОС не потребляет (кроме отметки в перечне процессов), в отличие от процессов-сирот (orphan process).
1. После выполнения `sudo opensnoop-bpfcc -Te -d 1` почти всегда вызовы идут на файл `/var/run/utmp` и системные прерывания.
1. Системный вызов используемый `uname -a` Цитата из **man** uname(2), по этому системному вызову, следующая:
   
   ```
   Part of the utsname information is also accessible via /proc/sys/kernel/{ostype, hostname, osrelease, version, domainname}
   ```
1.  Последовательность команд через `;` и через `&&` отличается в bash логикой выполнения. При разделении команд `;` команды выполняются всегда последовательно, а при `&&` только если предыдущая команда выполнилась успешно.     
  
    Получается что использовать в bash `&&`, если применяется `set -e` особого смысла нет, так как при последовательном выполнении (`;`) и ненулевом результате произойдёт завершение текущей оболочки. Также установленный параметр не завершает интерпретатор(оболочку) с использованием списка `&&`.
1. Режим bash `set -euxo pipefail` состоит из следующих опций:
   * **set -e** Немедленно завершать работу, если команда неуспешно завершает работу
   * **set -u** При подстановке значений параметров рассматривать  не установленную переменную как ошибку 
   * **set -x** После подстановок в каждой команде выдавать значение переменной и команду с результатом подстановок
   * **set -o pipefail** Если установлен возвращает значение конвейера как значение последней команды с неуспешным результатом или ноль если все команды успешны
   Использование в сценариях упрощает отслеживание ошибок, создаёт более читаемый вывод и создаёт завершение при базовых ошибках. 
1. Используя `-o stat` для `ps`, определил, что наиболее часто встречающийся статус у процессов в системе следующий
   * `Ss`  - **S** Прерываемый сон (ждёт события для завершения), **s** Лидер сессии  
   * `T`   - Остановлен по сигналу контроля задачи или из-за отслеживания (трассировки)
   * `R+`  - **R** Запущен или запускаем (на очереди запуска), **+** Находится в группе процессов переднего плана
